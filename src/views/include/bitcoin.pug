.row
  .col-xs-12
    if (user&&user.address&&user.address_qr)
      //- explanation
      p  To Add Time, Pay >=$1 in Bitcoin (BTC) to:
      //- link
      img(src=user.address_qr,style="display:block;margin-left:auto;margin-right:auto;")
      a(href="bitcoin:"+user.address, target="_blank") bitcoin:#{user.address}
    else
      button.btn.btn-primary(onclick="generateAddress()") Generate Address

      script.
        function generateAddress() {
          return Promise.resolve($.ajax({
            type: 'GET',
            url: '/address',
            data: {'_csrf':"#{_csrf}"},
            success: function(data) {
              location.reload();
            },
            error: function(data) {
              if (data.status == 400)
                alert('There was an error!');
              else
                alert("Please login or create an account!");
            },
          })).catch(function (reason) {
            //- console.log(reason);
          });
        }